@startuml
interface FileParser {
 +parse()
 +getInvalidTransactionsData()
}
class CsvFileParserImpl {
 -invalidDataMessages
 -STATUS REGEX
 -UUID_REGEX
 -VALID_REGEX
 -TIMEZONE_OFFSET
 -SUCCESS_STATUS
 -DELIMITER
 -INVALID_DATA_MESSAGE
 +parse()
 +getInvalidTransactionsData()
 -getTransactionDTOs()
 -createFromData()
 -getStatus()
 -getDateTime()
 -getValidDataLines()
 -getValidDataFromReader()
 -readColumnNaming()
 -checkColumnsNaming()
 -getBufferedReader()
}
class XmlFileParserImpl {
 -invalidDataMessages
 -transactionDto
 -DATE_TIME_REGEX
 -STATUS_REGEX
 -ID_REGEX
 -AMOUNT_REGEX
 -CURRENCY_REGEX
 -TRANSACTION_TAG
 -USER_TAG
 -ID_TAG
 -FIRST_LEVEL_TAGS
 -PAYMENT_DETAILS_TAGS
 -SUCCESS_TRANSACTION_STATUS
 -format
 +parse()
 +getInvalidTransactionsData()
 -getParsedTransactions()
 -getNodeList()
 -getTransactionsFromNodeList()
 -getDataFromTransaction()
 -handleElement()
 -handleSecondLevelChildren()
 -setCustomerIdValue()
 -setCustomerId()
 -getCustomerIdContext()
 -handleMultipleNodes()
 -getTextContent()
 -setCorrespondValue()
 -getCorrespondRegex()
}
class FileParserFactory {
 -parserMap
 +getParser()
}

XmlFileParserImpl <-- FileParserFactory
CsvFileParserImpl <-- FileParserFactory
FileParser <|.. CsvFileParserImpl
FileParser <|.. XmlFileParserImpl
@enduml